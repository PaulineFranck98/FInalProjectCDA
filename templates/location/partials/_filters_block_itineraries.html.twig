<div class="flex flex-col gap-2 border border-violet-300 rounded p-3 bg-violet-50">
    <button id="toggleItineraries" type="button"  class="flex justify-between items-center text-violet-700 font-semibold w-full">
        <span><i class="fa-solid fa-map-location-dot mr-2"></i> Mes itinéraires</span>
        <i id="chevron" class="fa-solid fa-chevron-down text-sm transition-transform duration-300 cursor-pointer"></i>
    </button>

    <div id="itineraryList" class="hidden flex-col mt-2 text-sm">
        {% if app.user.itineraries is not empty %}
            {% for itinerary in app.user.itineraries %}
                <a href="{{ path('itinerary_detail', {'itineraryId': itinerary.id}) }}"
                class="text-violet-700 hover:text-violet-900 hover:underline py-1 px-2 rounded transition">
                    {{ itinerary.itineraryName }}
                </a>
            {% endfor %}
        {% else %}
            <p class="text-gray-500 text-xs italic px-2">Aucun itinéraire pour l’instant.</p>
        {% endif %}
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const button = document.getElementById('toggleItineraries');
        const list = document.getElementById('itineraryList');
        const chevron = document.getElementById('chevron');

        if (button && list) {
            button.addEventListener('click', () => {
                list.classList.toggle('hidden');
                chevron.classList.toggle('rotate-180');
            });
        }
    });
</script>