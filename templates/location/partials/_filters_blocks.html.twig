{# --- PRIX --- #}
<div class="flex flex-col border border-gray-300 rounded px-4 py-2">
    <p class="text-sm font-medium text-violet-700 mb-2 flex items-center gap-2">
        <i class="fa-solid fa-euro-sign text-violet-700"></i>
        Prix
    </p>
    <div class="flex flex-col gap-2">
        <div class="flex items-center">
            <input 
                type="range" 
                id="priceMin" 
                name="priceMin"
                class="w-2/3 accent-violet-700 cursor-pointer"
                min="{{ priceRange.minPrice }}" 
                max="{{ priceRange.maxPrice }}" 
                value="{{ filters.priceMin ?? priceRange.minPrice }}" 
                step="1"
                oninput="
                    const maxInput = document.getElementById('priceMax');
                    if (parseInt(this.value) >= parseInt(maxInput.value)) this.value = maxInput.value - 1;
                    document.getElementById('minPriceDisplay').textContent = this.value;
                "
            >
            <span class="text-sm ms-2">Min : <span id="minPriceDisplay">{{ filters.priceMin ?? priceRange.minPrice }}</span>€</span>
        </div>
        <div class="flex items-center">
            <input 
                type="range" 
                id="priceMax" 
                name="priceMax"
                class="w-2/3 accent-violet-700 cursor-pointer"
                min="{{ priceRange.minPrice }}" 
                max="{{ priceRange.maxPrice }}" 
                value="{{ filters.priceMax ?? priceRange.maxPrice }}" 
                step="1"
                oninput="
                    const minInput = document.getElementById('priceMin');
                    if (parseInt(this.value) <= parseInt(minInput.value)) this.value = parseInt(minInput.value) + 1;
                    document.getElementById('maxPriceDisplay').textContent = this.value;
                "
            >
            <span class="text-sm ms-2">Max : <span id="maxPriceDisplay">{{ filters.priceMax ?? priceRange.maxPrice }}</span>€</span>
        </div>
    </div>
</div>

{# --- RÉDUCTIONS --- #}
<div class="flex items-center justify-between border border-violet-300 rounded px-4 py-3 bg-violet-50">
    <label for="hasDiscount" class="text-sm font-medium text-violet-700 flex items-center gap-2">
        <i class="fa-solid fa-percent text-violet-700"></i>
        Réductions
    </label>
    <label class="relative inline-flex items-center cursor-pointer">
        <input type="checkbox" id="hasDiscount" name="hasDiscount" value="true"
            class="sr-only peer"
            {% if filters.hasDiscount is defined and filters.hasDiscount %}checked{% endif %}>
        <div class="w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-2 peer-focus:ring-violet-300 
                    peer-checked:after:translate-x-full peer-checked:after:border-white 
                    after:content-[''] after:absolute after:top-[2px] after:left-[2px] 
                    after:bg-white after:border-gray-300 after:border after:rounded-full 
                    after:h-5 after:w-5 after:transition-all peer-checked:bg-violet-700">
        </div>
    </label>
</div>

{# --- NOTE MINIMALE --- #}
<div class="flex flex-col border border-gray-300 rounded px-4 py-3">
    <p class="text-sm font-medium text-violet-700 mb-2 flex items-center gap-2">
        <i class="fa-solid fa-star text-violet-700"></i>
        Note minimale
    </p>
    <div class="flex flex-col gap-2 text-sm text-gray-700">
        {% for stars in [5, 4, 3] %}
            <label class="flex items-center justify-between cursor-pointer">
                <div class="flex items-center gap-2">
                    <input 
                        class="accent-violet-700 cursor-pointer" 
                        type="checkbox" 
                        name="minRating[]" 
                        value="{{ stars }}" 
                        {% if filters.minRating is defined and filters.minRating == stars %}checked{% endif %}
                    >
                    <div class="text-yellow-500 text-[0.85rem]">
                        {% for i in 1..stars %}
                            <i class="fa-solid fa-star"></i>
                        {% endfor %}
                    </div>
                </div>
                <span class="text-gray-600 font-medium">{{ stars }}+</span>
            </label>
        {% endfor %}
    </div>
</div>

{# --- TYPE --- #}
<div class="flex flex-col border border-gray-300 rounded px-4 py-3">
    <p class="text-sm font-medium text-violet-700 mb-2 flex items-center gap-2">
        <i class="fa-solid fa-tags text-violet-700"></i>
        Type
    </p>
    <div class="flex flex-col">
        {% for type in types %}
            <div class="flex gap-2 text-[0.9rem] text-gray-700">
                <input class="accent-violet-700 cursor-pointer" type="checkbox" name="typeIds[]" value="{{ type.id }}" 
                       {% if filters.typeIds is defined and type.id in filters.typeIds %}checked{% endif %}>
                <label>{{ type.typeName }}</label>
            </div>
        {% endfor %}
    </div>
</div>

{# --- AVEC QUI --- #}
<div class="flex flex-col border border-gray-300 rounded px-4 py-3">
    <p class="text-sm font-medium text-violet-700 mb-2 flex items-center gap-2">
        <i class="fa-solid fa-users text-violet-700"></i>
        Avec qui ?
    </p>
    <div class="flex flex-col">
        {% for companion in companions %}
            <div class="flex gap-2 text-[0.9rem] text-gray-700">
                <input class="accent-violet-700 cursor-pointer" type="checkbox" name="companionIds[]" value="{{ companion.id }}" 
                       {% if filters.companionIds is defined and companion.id in filters.companionIds %}checked{% endif %}>
                <label>{{ companion.companionName }}</label>
            </div>
        {% endfor %}
    </div>
</div>

{# --- THÈME --- #}
<div class="flex flex-col border border-gray-300 rounded px-4 py-3">
    <p class="text-sm font-medium text-violet-700 mb-2 flex items-center gap-2">
        <i class="fa-solid fa-palette text-violet-700"></i>
        Thème
    </p>
    <div class="flex flex-col">
        {% for theme in themes %}
            <div class="flex gap-2 text-[0.9rem] text-gray-700">
                <input class="accent-violet-700 cursor-pointer" type="checkbox" name="themeIds[]" value="{{ theme.id }}" 
                       {% if filters.themeIds is defined and theme.id in filters.themeIds %}checked{% endif %}>
                <label>{{ theme.themeName }}</label>
            </div>
        {% endfor %}
    </div>
</div>

{# --- CONFORT --- #}
<div class="flex flex-col border border-gray-300 rounded px-4 py-3">
    <p class="text-sm font-medium text-violet-700 mb-2 flex items-center gap-2">
        <i class="fa-solid fa-bed text-violet-700"></i>
        Confort
    </p>
    <div class="flex flex-col">
        {% for confort in conforts %}
            <div class="flex gap-2 text-[0.9rem] text-gray-700">
                <input class="accent-violet-700 cursor-pointer" type="checkbox" name="confortIds[]" value="{{ confort.id }}" 
                       {% if filters.confortIds is defined and confort.id in filters.confortIds %}checked{% endif %}>
                <label>{{ confort.confortLevel }}</label>
            </div>
        {% endfor %}
    </div>
</div>

{# --- DURÉE --- #}
<div class="flex flex-col border border-gray-300 rounded px-4 py-3">
    <p class="text-sm font-medium text-violet-700 mb-2 flex items-center gap-2">
        <i class="fa-regular fa-clock text-violet-700"></i>
        Durée
    </p>
    <div class="flex flex-col">
        {% for duration in durations %}
            <div class="flex gap-2 text-[0.9rem] text-gray-700">
                <input class="accent-violet-700 cursor-pointer" type="checkbox" name="durationIds[]" value="{{ duration.id }}" 
                       {% if filters.durationIds is defined and duration.id in filters.durationIds %}checked{% endif %}>
                <label>{{ duration.onSiteTime|duration_label('long') }}</label>
            </div>
        {% endfor %}
    </div>
</div>

{# --- INTENSITÉ --- #}
<div class="flex flex-col border border-gray-300 rounded px-4 py-3">
    <p class="text-sm font-medium text-violet-700 mb-2 flex items-center gap-2">
        <i class="fa-solid fa-bolt text-violet-700"></i>
        Intensité
    </p>
    <div class="flex flex-col">
        {% for intensity in intensities %}
            <div class="flex gap-2 text-[0.9rem] text-gray-700">
                <input class="accent-violet-700 cursor-pointer" type="checkbox" name="intensityIds[]" value="{{ intensity.id }}" 
                       {% if filters.intensityIds is defined and intensity.id in filters.intensityIds %}checked{% endif %}>
                <label>{{ intensity.intensityLevel }}</label>
            </div>
        {% endfor %}
    </div>
</div>
