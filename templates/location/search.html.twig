{% extends 'base.html.twig' %}
{% block title %}Recherche de lieux{% endblock %}

{% block body %}

<div class="flex flex-col lg:flex-row lg:gap-6 m-auto lg:w-[80%] lg:h-[calc(100vh-49px)] pb-10">
    <button id="openFilters"
            class="fixed top-2 right-4 bg-violet-700 text-white px-4 py-2 rounded-full shadow-lg z-50 lg:hidden">
        <i class="fa-solid fa-sliders"></i> Filtres
    </button>

    <div id="filtersPanel" class="fixed inset-0 bg-white z-50 transform translate-x-full transition-transform duration-300 lg:relative lg:translate-x-0 lg:w-1/2 flex flex-col lg:flex-row gap-6 min-h-0 md:pt-10"> 
        {% include 'location/partials/_filters.html.twig' %}
        {% include 'location/partials/_list.html.twig' %}
    </div>
   
    <div class="lg:w-1/2 lg:pt-10 lg:h-full h-screen relative">
        <div id="search-map" class="w-full  bg-gray-200 rounded-xl h-full" data-locations='{{ locations|json_encode }}'>
            <span class="text-gray-500">Carte</span>
        </div>
    </div>
</div>

<script src='https://unpkg.com/maplibre-gl@5.6.1/dist/maplibre-gl.js'></script>
<script src="{{ asset('js/location-search.js') }}"></script>
<script src="{{ asset('js/itinerary-modal.js') }}"></script>
<script src="{{ asset('js/location-filters.js') }}"></script>

{# ---------------- MODALE ITINÃ‰RAIRE ---------------- #}
{% include 'location/partials/_itinerary_modal.html.twig' %}
{% endblock %}
